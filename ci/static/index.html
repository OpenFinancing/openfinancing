<html>

<head>
  <title>Openx Generator</title>
  <style>
    body {
        background: white;
      }
      * {
        font-family: Helvetica, sans-serif;
        text-align: left;
      }
      input {
        font-size: 16px !important;
      }
      #lastbuilt, #oxsha, #ossha {
        display: inline !important;
      }
</style>
</head>

<body>
  <h1>Openx builds</h1>
  <h3>Last built on: <p id="lastbuilt"></p></h3>
  <p>Openx SHA hash: <a id="oxsha" href="blah" target=_blank></a></p>
  <p>Opensolar / Teller SHA hash: <a id="ossha" href="blah" target=_blank></a></p>
  <form action="https://builds.openx.solar/openx" method="get">
    <input type="submit" value="Openx" />
  </form>
  <form action="https://builds.openx.solar/opensolar" method="get">
    <input type="submit" value="Opensolar" />
  </form>
  <form action="https://builds.openx.solar/teller" method="get">
    <input type="submit" value="Teller" />
  </form>
</body>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script>
  $(document).ready(function() {
    $.get("https://builds.openx.solar/lastbuilt", function(data, status) {
      $('#lastbuilt').text(data);
    });
  });

  $(document).ready(function() {
    $.get("https://builds.openx.solar/sha", function(data, status) {
      $('#oxsha').attr("href", "https://github.com/YaleOpenLab/openx/commit/" + data.OpenxSha);
      $('#oxsha').text(data.OpenxSha);
      $('#ossha').attr("href", "https://github.com/YaleOpenLab/opensolar/commit/" + data.OpensolarSha);
      $('#ossha').text(data.OpensolarSha);
    });
  });

</script>

</html>
